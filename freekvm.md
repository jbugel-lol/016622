# Setting Up an Oracle Server - Step by Step Guide

Please note: A valid credit or debit card is required to create an Oracle account; BINs or virtual cards will not work.

Guide by cevoj35548. Based on this tutorial.

## Creating the Server

1. Go to the [Oracle Free Tier page](https://www.oracle.com/cloud/free/).
2. Scroll down to "What are Always Free cloud services?" and review the resources offered in the always free plan.
3. Click the "Start for Free" button and complete the registration process (credit card required).
4. You'll be redirected to a page with a purple banner indicating you're on the free plan. Unless you upgrade to a paid account, you won't be charged.
5. Under "Launch Resources," select "Create a VM instance" and give it a name.
6. Scroll down to the "Image and Shape" box, click "Edit," change the image to "Canonical Ubuntu," and set the OS version to 20.04. Click "Select image."
7. Click "Change shape," set the series to "Ampere," and increase the number of OCPUs to 4. Ignore the yellow Service limits status warning and click "Select shape."
8. Scroll down to "Add SSH keys," select "Paste public keys," and paste your public key generated with PuTTYgen.
9. Under "Boot volume," click "Specify a custom boot volume size" and set the size to 200GB. Ignore the yellow warning and click "Create."
10. If you see a red "Out of capacity" banner, go back to "Placement," click "Edit," select a different Availability domain, and try "Create" again.
11. Your server will now start provisioning. Save the private key generated by PuTTY Key Generator for SSH access.

_For SSH setup ONLY, skip to Step 14._

12. Once provisioning is complete, allow RDP connections on port 3389. Under "Primary VNIC," click your Subnet. Then, under "Security Lists," click the "Default Security List" for vcn-.... Click "Add Ingress Rules." This opens a modal for Ingress Rule 1.
13. In the "Source CIDR" field, type 0.0.0.0/0. In the "Destination Port Range - Optional" field, type 3389. In the "Description" field, type RDP. Then, click "Add Ingress Rules." Return to the Security List page by going back in your browser twice to your instance dashboard.

## Setting up the VPS

14. Open PuTTY on your PC.
15. In the "Host Name (or IP address)" field, enter the Private IP address of your instance found under "Primary VNIC" in your instance dashboard.
16. In PuTTY's Category tree, go to "Connection" -> "SSH" -> "Auth," and click the "Browse" button under "Private key file for authentication." Select the .ppk file saved earlier in PuTTYgen. Go back to "Session" in the Category tree, enter a name under "Saved Sessions," and click "Save." Then, click "Open." You might receive a PuTTY Security Alert warning; click "Accept."
17. To prevent Oracle from reclaiming your VM due to low usage, run the following script within a tmux session:

```shell
tmux
bash <(curl -s -L https://gist.githubusercontent.com/Ansen/e45320205faf5786d3282ac880f20bab/raw/onekey-NeverIdle.sh)
# Leave tmux by pressing Ctrl+B D
```

18. If you only need a terminal server, you can now connect to your VPS with PuTTY. Use tmux to keep programs running after closing SSH.

_To use it as a portable desktop (install a DE), please continue:_

19. In the PuTTY window, enter the following commands. Click "Yes" (Enter) on popups when necessary.

```shell
sudo apt update && sudo apt upgrade -y
sudo apt-get install ubuntu-desktop xrdp stacer -y   # Alternatively, use kubuntu-desktop for KDE
sudo cp /etc/iptables/rules.v4 /etc/iptables/rules.v4.bak && sudo truncate -s 0 /etc/iptables/rules.v4
sudo rm /usr/share/polkit-1/actions/org.freedesktop.color.policy
```

20. Type `sudo passwd ubuntu` and enter a new password for your RDP connection. Now type `sudo reboot`.

## Setting up RDP

21. Open Remote Desktop Connection in Windows. Click "Show Options." In the "Computer" field, enter the Private IP address of your instance. In the "User name" field, enter "ubuntu." Check the "Allow me to save credentials" box.
22. Go to the "Local Resources" tab. Under "Local devices and resources," ensure only "Clipboard" is checked, and "Printers" is unchecked.
23. Click "Connect." You may receive a "The identity of the remote computer cannot be verified" warning. Check "Don't ask me again" and click "Yes." A Windows Security window will pop up. Enter the password you created earlier and click "OK." You'll now be in the Ubuntu desktop.

24. If you are using GNOME (ubuntu-desktop), open "Settings" -> "Privacy" -> "Screen Lock," and change "Blank Screen Delay" to "Never," disable "Automatic Screen Lock," disable "Lock Screen on Suspend," and disable "Show Notifications on Lock Screen."

25. If you are using KDE (kubuntu-desktop), open "System Settings," search "Screen Locking," and uncheck the boxes by "Lock screen automatically."

26. To optimize RDP, open a terminal window and paste the following commands:

_Set animations in Ubuntu (GNOME only):_

- Disable animations:
  ```shell
  gsettings set org.gnome.desktop.interface enable-animations false
  ```
  _Undo (if necessary):_
  ```shell
  gsettings set org.gnome.desktop.interface enable-animations true
  ```

_Change the number of colors that XRDP has to transmit:_

- Reduce colors:
  ```shell
  sudo sed -i 's/max_bpp=32/max_bpp=16/g' /etc/xrdp/xrdp.ini && sudo reboot
  ```
  _Undo (if necessary):_
  ```shell
  sudo sed -i 's/max_bpp=16/max_bpp=32/g' /etc/xrdp/xrdp.ini && sudo reboot
  ```

27. If your RDP is still slow, return to the Remote Desktop Connection Windows client, go to the "Experience" tab, and set the dropdown under "Choose your connection speed to optimize performance" to "LAN (10Mbits or higher)."

28. Open Stacer to check CPU Cores (4), Memory (23.4 GiB), and Disk size (193.6 GiB).

You can now access your VPS from anywhere in the world using Remote Desktop Connection. Optionally, you can set up X11 Forwarding by following the tutorial [here](insert_link_here).

To monitor the performance of the Ubuntu instance, you can use a graphical performance monitor like St

acer, which will display the number of CPUs, amount of memory, and available disk storage.
